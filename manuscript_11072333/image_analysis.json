{
  "metadata": {
    "report_file": "TNBC预后结果报告.docx",
    "total_figures": 5,
    "extraction_date": "2025-11-08",
    "analysis_guidelines": "image-analysis-guidelines.md",
    "caption_examples": "figure-caption-examples.md"
  },
  "figures": [
    {
      "figure_id": "figure_1",
      "original_file": "image1.png",
      "figure_number": 1,
      "has_subplots": true,
      "subplot_count": 5,
      "context_from_report": {
        "purpose": "Identify major cell clusters in TNBC through integrated scRNA-seq analysis",
        "methods": "UMAP dimensionality reduction, cell type annotation using marker genes, cell proportion comparison between Normal and TNBC",
        "key_findings": "11 distinct cell types identified; increased immune cell infiltration (B cells, T cells, Macrophages) in TNBC tumors; differential gene expression in T cells including IGLV1, TRBV20-1, ATP5E"
      },
      "subplots": [
        {
          "subplot_id": "1A",
          "type": "UMAP_plot",
          "guideline_ref": "Guidelines 1.4 - Scatter plots and dimensional reduction",
          "structured_data": {
            "plot_type": "UMAP",
            "total_cells": 84837,
            "samples": 19,
            "clusters": 11,
            "coloring_schemes": [
              "by sample ID",
              "by group (Normal/TNBC)",
              "by cluster number"
            ]
          }
        },
        {
          "subplot_id": "1B",
          "type": "dot_plot",
          "guideline_ref": "Guidelines 1.6 - Dot plots",
          "structured_data": {
            "genes_shown": [
              "KRT23",
              "KRT15",
              "CD3D",
              "TRBC2",
              "CD3E",
              "MKI67",
              "TOP2A",
              "CD68",
              "CD14",
              "DCN",
              "LUM",
              "KRT5",
              "KRT14",
              "PECAM1",
              "PLVAP",
              "KRT18",
              "ANKRD30A",
              "IGHG1",
              "IGHG4",
              "RGS5",
              "COX4I2",
              "MS4A1",
              "BANK1"
            ],
            "cell_clusters": 11,
            "metrics": [
              "average_expression",
              "percent_expressed"
            ]
          }
        },
        {
          "subplot_id": "1C",
          "type": "UMAP_plot_annotated",
          "guideline_ref": "Guidelines 1.4 - Scatter plots",
          "structured_data": {
            "cell_types": [
              "Epithelial",
              "T cells",
              "Proliferating Epithelial",
              "Macrophages",
              "Fibroblasts",
              "Basal",
              "Endothelial",
              "Luminal Epithelial",
              "Plasma cells",
              "Pericytes",
              "B cells"
            ]
          }
        },
        {
          "subplot_id": "1D",
          "type": "stacked_bar_chart",
          "guideline_ref": "Guidelines 1.1 - Bar charts",
          "structured_data": {
            "groups": [
              "Normal",
              "TNBC"
            ],
            "cell_types": 11,
            "key_differences": "Increased B cells, T cells, Macrophages in TNBC"
          }
        },
        {
          "subplot_id": "1E",
          "type": "volcano_plot",
          "guideline_ref": "Guidelines 1.3 - Volcano plots",
          "structured_data": {
            "comparison": "TNBC vs Normal DEGs across cell types",
            "significance_threshold": "padj < 0.01",
            "top_genes_labeled": "Top 10 per cell type",
            "color_scheme": {
              "red": "padj < 0.01",
              "black": "padj >= 0.01"
            }
          }
        }
      ]
    },
    {
      "figure_id": "figure_2",
      "original_file": "image2.png",
      "figure_number": 2,
      "has_subplots": true,
      "subplot_count": 10,
      "context_from_report": {
        "purpose": "Elucidate bidirectional communication between T cells and other cell types in TNBC microenvironment",
        "methods": "CellChat analysis of ligand-receptor interactions between cell types in Normal vs TNBC",
        "key_findings": "87 pathways identified (12 Normal-specific, 31 TNBC-specific, 44 shared); Enhanced T cell incoming/outgoing signal strength in TNBC; MHC-I, MIF, CD99 signaling specifically altered in TNBC"
      },
      "subplots": [
        {
          "subplot_id": "2A",
          "type": "chord_diagram",
          "guideline_ref": "Guidelines 3.1 - Network diagrams",
          "structured_data": {
            "metric": "Differential number of interactions",
            "groups": [
              "Luminal Epithelial",
              "Basal",
              "T cells",
              "B cells",
              "Proliferating Epithelial",
              "Epithelial",
              "Pericytes",
              "Plasma cells",
              "Macrophages",
              "Fibroblasts",
              "Endothelial"
            ],
            "edge_colors": {
              "red": "increased in TNBC",
              "blue": "decreased in TNBC"
            }
          }
        },
        {
          "subplot_id": "2B",
          "type": "chord_diagram",
          "guideline_ref": "Guidelines 3.1 - Network diagrams",
          "structured_data": {
            "metric": "Differential interaction strength"
          }
        },
        {
          "subplot_id": "2C",
          "type": "network_diagram",
          "guideline_ref": "Guidelines 3.1 - Network diagrams",
          "structured_data": {
            "condition": "Normal",
            "metric": "Number of interactions"
          }
        },
        {
          "subplot_id": "2D",
          "type": "network_diagram",
          "guideline_ref": "Guidelines 3.1 - Network diagrams",
          "structured_data": {
            "condition": "TNBC",
            "metric": "Number of interactions"
          }
        },
        {
          "subplot_id": "2E",
          "type": "stacked_bar_chart",
          "guideline_ref": "Guidelines 1.1 - Bar charts",
          "structured_data": {
            "metric": "Relative information flow",
            "comparison": "Normal vs TNBC",
            "pathways": "87 total pathways"
          }
        },
        {
          "subplot_id": "2F",
          "type": "scatter_plot",
          "guideline_ref": "Guidelines 1.4 - Scatter plots",
          "structured_data": {
            "condition": "Normal",
            "axes": {
              "x": "Outgoing interaction strength",
              "y": "Incoming interaction strength"
            },
            "cell_types_plotted": 11
          }
        },
        {
          "subplot_id": "2G",
          "type": "scatter_plot",
          "guideline_ref": "Guidelines 1.4 - Scatter plots",
          "structured_data": {
            "condition": "TNBC",
            "key_observation": "Enhanced T cell incoming signal strength"
          }
        },
        {
          "subplot_id": "2H",
          "type": "scatter_plot",
          "guideline_ref": "Guidelines 1.4 - Scatter plots",
          "structured_data": {
            "axes": {
              "x": "Differential outgoing interaction strength",
              "y": "Differential incoming interaction strength"
            },
            "highlighted_pathways": [
              "MIF-(CD74+CD44)",
              "MIF-(CD74+CXCR4)",
              "COLLAGEN",
              "MHC-I",
              "APP",
              "CD99"
            ],
            "significance": "p < 0.01",
            "focus": "T cell signaling changes"
          }
        },
        {
          "subplot_id": "2I",
          "type": "dot_heatmap",
          "guideline_ref": "Guidelines 1.6 - Dot plots",
          "structured_data": {
            "direction": "Senders (other cells) to T cells",
            "pathways": [
              "MIF-(CD74+CD44)",
              "MIF-(CD74+CXCR4)",
              "CXCL12-CXCR4",
              "CXCL10-CXCR3"
            ],
            "sender_cells": 9,
            "significance": "One-sided permutation test",
            "color_metric": "Communication probability"
          }
        },
        {
          "subplot_id": "2J",
          "type": "dot_heatmap",
          "guideline_ref": "Guidelines 1.6 - Dot plots",
          "structured_data": {
            "direction": "T cells to receivers",
            "receiver_cells": [
              "B cells",
              "Macrophages",
              "Endothelial"
            ],
            "ligand_receptor_pairs": [
              "MIF-(CD74+CD44)",
              "MIF-(CD74+CXCR4)",
              "CCL5-ACKR1",
              "CCL5-CCR1"
            ]
          }
        }
      ]
    },
    {
      "figure_id": "figure_3",
      "original_file": "image3.png",
      "figure_number": 3,
      "has_subplots": true,
      "subplot_count": 7,
      "context_from_report": {
        "purpose": "Identify ubiquitination-related key genes through WGCNA combined with differential expression and prognosis analysis",
        "methods": "Venn diagram intersection of T cell markers and ubiquitin proteasome genes (177 genes); WGCNA module detection; differential expression, KM survival, and Cox regression analysis",
        "key_findings": "MEturquoise module highly correlated with survival time; 13 common genes identified (e.g., BTBD6, CDC34, FBXL15) with prognostic value"
      },
      "subplots": [
        {
          "subplot_id": "3A",
          "type": "venn_diagram",
          "guideline_ref": "Guidelines 3.3 - Venn diagrams",
          "structured_data": {
            "set1": {
              "name": "T cell Markers",
              "unique": 2890,
              "percentage": 78.3
            },
            "set2": {
              "name": "Ubiquitin Proteasome",
              "unique": 623,
              "percentage": 16.9
            },
            "intersection": {
              "count": 177,
              "percentage": 4.8
            }
          }
        },
        {
          "subplot_id": "3B",
          "type": "dendrogram_modules",
          "guideline_ref": "Guidelines 1.7 - Hierarchical clustering",
          "structured_data": {
            "modules": [
              "MEblue",
              "MEbrown",
              "MEturquoise",
              "MEgrey"
            ],
            "module_colors": [
              "blue",
              "brown",
              "cyan",
              "grey"
            ]
          }
        },
        {
          "subplot_id": "3C",
          "type": "heatmap",
          "guideline_ref": "Guidelines 1.5 - Heatmaps",
          "structured_data": {
            "rows": [
              "MEblue",
              "MEbrown",
              "MEturquoise",
              "MEgrey"
            ],
            "columns": [
              "Time"
            ],
            "correlation_values": {
              "MEblue": 0.1,
              "MEbrown": 0.4,
              "MEturquoise": 0.002,
              "MEgrey": 0.07
            },
            "key_finding": "MEturquoise module highly correlated with survival time (p=0.002)"
          }
        },
        {
          "subplot_id": "3D",
          "type": "heatmap",
          "guideline_ref": "Guidelines 1.5 - Heatmaps",
          "structured_data": {
            "comparison": "Normal vs Tumor",
            "genes_shown": "MEturquoise module genes",
            "color_scale": "Blue (low) to Red (high) expression"
          }
        },
        {
          "subplot_id": "3E",
          "type": "forest_plot",
          "guideline_ref": "Guidelines 1.2 - Forest plots",
          "structured_data": {
            "analysis": "Univariate Cox regression",
            "genes_count": 30,
            "genes_shown": [
              "BTBD6",
              "CDC34",
              "FBXL15",
              "FBXL18",
              "FBXL6",
              "GMCL1",
              "HECTD3",
              "HECW1",
              "KCTD17",
              "KLHL17",
              "KRT8",
              "LZTR1",
              "MPND",
              "MUL1",
              "OTUB1",
              "PPIL2",
              "PSMA2",
              "RCBTB1",
              "RNF123",
              "RNF135",
              "RNF185",
              "RNF187",
              "SHKBP1",
              "SHPRH",
              "SPSB1",
              "UBR4",
              "USP2",
              "VPS18",
              "ZBTB7B",
              "ZBTB7C"
            ],
            "metrics": {
              "HR": "Hazard Ratio",
              "CI": "95% confidence interval",
              "p_threshold": 0.05
            },
            "key_findings": "All genes with p < 0.05"
          }
        },
        {
          "subplot_id": "3F",
          "type": "bar_chart",
          "guideline_ref": "Guidelines 1.1 - Bar charts",
          "structured_data": {
            "y_axis": "p-value",
            "x_axis": "Genes (ordered by significance)",
            "genes_count": "21 genes from KM analysis",
            "significance_levels": "Increasing p-values from left to right"
          }
        },
        {
          "subplot_id": "3G",
          "type": "upset_plot",
          "guideline_ref": "Guidelines 3.4 - UpSet plots",
          "structured_data": {
            "sets": [
              "KM",
              "COX",
              "DEGs"
            ],
            "intersections": [
              {
                "size": 21,
                "sets": [
                  "KM"
                ]
              },
              {
                "size": 17,
                "sets": [
                  "COX"
                ]
              },
              {
                "size": 13,
                "sets": [
                  "KM",
                  "COX",
                  "DEGs"
                ]
              },
              {
                "size": 8,
                "sets": [
                  "DEGs"
                ]
              }
            ],
            "key_finding": "13 genes common to all three analyses"
          }
        }
      ]
    },
    {
      "figure_id": "figure_4",
      "original_file": "image4.png",
      "figure_number": 4,
      "has_subplots": true,
      "subplot_count": 9,
      "context_from_report": {
        "purpose": "Construct and validate ubiquitination and T cell-related gene prognostic risk model",
        "methods": "LASSO Cox regression identified 3-gene signature (GMCL1, KRT8, OTUB1); Risk score classification; Validation in TCGA-Train, TCGA-Test, GSE25066",
        "key_findings": "High-risk group has significantly higher mortality; Risk score independently predicts prognosis across multiple datasets"
      },
      "subplots": [
        {
          "subplot_id": "4A",
          "type": "kaplan_meier_curve",
          "guideline_ref": "Guidelines 1.8 - Survival curves",
          "structured_data": {
            "dataset": "TCGA-Train",
            "groups": {
              "high": 114,
              "low": 114
            },
            "statistic": "Log-rank p < 0.0001",
            "follow_up_months": 360
          }
        },
        {
          "subplot_id": "4B",
          "type": "kaplan_meier_curve",
          "guideline_ref": "Guidelines 1.8 - Survival curves",
          "structured_data": {
            "dataset": "TCGA-Test",
            "groups": {
              "high": 45,
              "low": 46
            },
            "statistic": "Log-rank p = 0.00019"
          }
        },
        {
          "subplot_id": "4C",
          "type": "kaplan_meier_curve",
          "guideline_ref": "Guidelines 1.8 - Survival curves",
          "structured_data": {
            "dataset": "GSE25066",
            "groups": {
              "high": 89,
              "low": 89
            },
            "statistic": "Log-rank p = 0.0023"
          }
        },
        {
          "subplot_id": "4D",
          "type": "risk_score_scatter",
          "guideline_ref": "Guidelines 1.4 - Scatter plots",
          "structured_data": {
            "dataset": "TCGA-Train",
            "y_axis": "Survival time (months)",
            "x_axis": "Patients (increasing risk score)",
            "status": {
              "alive": "circle",
              "dead": "triangle"
            },
            "middle_panel": "Risk score trajectory",
            "bottom_panel": "Gene expression heatmap (GMCL1, KRT8, OTUB1)"
          }
        },
        {
          "subplot_id": "4E",
          "type": "risk_score_scatter",
          "guideline_ref": "Guidelines 1.4 - Scatter plots",
          "structured_data": {
            "dataset": "TCGA-Test"
          }
        },
        {
          "subplot_id": "4F",
          "type": "risk_score_scatter",
          "guideline_ref": "Guidelines 1.4 - Scatter plots",
          "structured_data": {
            "dataset": "GSE25066"
          }
        }
      ]
    },
    {
      "figure_id": "figure_5",
      "original_file": "image5.png",
      "figure_number": 5,
      "has_subplots": true,
      "subplot_count": 9,
      "context_from_report": {
        "purpose": "Validate risk score model efficacy and construct clinical prediction model",
        "methods": "ROC curve analysis; Univariate and multivariate Cox regression; Nomogram construction integrating risk score and clinical factors; Calibration and validation",
        "key_findings": "TCGA-Train AUC: 0.67 (2yr), 0.69 (3yr), 0.72 (5yr); Risk score is independent prognostic factor; Nomogram AUC: 0.719; High nomogram score associated with poor prognosis"
      },
      "subplots": [
        {
          "subplot_id": "5A",
          "type": "roc_curve",
          "guideline_ref": "Guidelines 1.9 - ROC curves",
          "structured_data": {
            "dataset": "Train",
            "time_points": [
              "2 years",
              "3 years",
              "5 years"
            ],
            "auc_values": [
              0.67,
              0.69,
              0.72
            ]
          }
        },
        {
          "subplot_id": "5B",
          "type": "roc_curve",
          "guideline_ref": "Guidelines 1.9 - ROC curves",
          "structured_data": {
            "dataset": "Test",
            "auc_values": [
              0.53,
              0.63,
              0.7
            ]
          }
        },
        {
          "subplot_id": "5C",
          "type": "roc_curve",
          "guideline_ref": "Guidelines 1.9 - ROC curves",
          "structured_data": {
            "dataset": "GSE25066",
            "auc_values": [
              0.62,
              0.63,
              0.59
            ]
          }
        },
        {
          "subplot_id": "5D",
          "type": "forest_plot",
          "guideline_ref": "Guidelines 1.2 - Forest plots",
          "structured_data": {
            "analysis": "Univariate Cox regression",
            "variables": [
              "Grade",
              "T",
              "N",
              "Age",
              "risk_score"
            ],
            "significant_variables": [
              "T (p=0.004)",
              "N (p=0.026)",
              "risk_score (p=0.007)"
            ]
          }
        },
        {
          "subplot_id": "5E",
          "type": "forest_plot",
          "guideline_ref": "Guidelines 1.2 - Forest plots",
          "structured_data": {
            "analysis": "Multivariate Cox regression",
            "variables": [
              "T",
              "N",
              "risk_score"
            ],
            "key_finding": "risk_score is independent prognostic factor (HR=8.881, p=0.003)"
          }
        },
        {
          "subplot_id": "5F",
          "type": "nomogram",
          "guideline_ref": "Guidelines 3.5 - Nomograms",
          "structured_data": {
            "predictors": [
              "Age",
              "T",
              "Grade",
              "N",
              "risk_score"
            ],
            "outcomes": [
              "Pr(futime<5)",
              "Pr(futime<3)",
              "Pr(futime<1)"
            ],
            "total_points_range": [
              100,
              240
            ]
          }
        },
        {
          "subplot_id": "5G",
          "type": "calibration_curve",
          "guideline_ref": "Guidelines 1.10 - Calibration curves",
          "structured_data": {
            "time_points": [
              "1-year",
              "3-year",
              "5-year"
            ],
            "x_axis": "Nomogram-predicted OS",
            "y_axis": "Observed OS (Kaplan-Meier)",
            "performance": "Robust prediction"
          }
        },
        {
          "subplot_id": "5H",
          "type": "roc_curve",
          "guideline_ref": "Guidelines 1.9 - ROC curves",
          "structured_data": {
            "models": [
              "Grade",
              "N",
              "Nomogram",
              "Risk",
              "T"
            ],
            "auc_values": {
              "Grade": 0.458,
              "N": 0.463,
              "Nomogram": 0.719,
              "Risk": 0.627,
              "T": 0.404
            },
            "best_model": "Nomogram (AUC=0.719)"
          }
        },
        {
          "subplot_id": "5I",
          "type": "kaplan_meier_curve",
          "guideline_ref": "Guidelines 1.8 - Survival curves",
          "structured_data": {
            "stratification": "Nomogram levels (high vs low)",
            "groups": {
              "B1": 81,
              "B2": 63
            },
            "statistic": "p = 0.00034",
            "key_finding": "High nomogram score associated with worse prognosis"
          }
        }
      ]
    }
  ]
}